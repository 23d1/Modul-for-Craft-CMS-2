$.fn.hasAttr=function(t){return void 0!==this.attr(t)},$.fn.outerHTML=function(){return this.length?this[0].outerHTML||function(t){var e=document.createElement("div");e.appendChild(t.cloneNode(!0));var i=e.innerHTML;return e=null,i}(this[0]):this},$(document).ready(function(){function e(){$("#content img").each(function(){$(this).hasClass("ready")||$(this).hasClass("notme")||($(this).hasClass("reverse")?(parentheight=$(this).parent().height(),imgwidth=$(this).attr("data-width"),imgheight=$(this).attr("data-height"),imgdim=imgwidth/imgheight,newwidth=parentheight*imgdim,newwidth=Math.round(newwidth),$(this).width(newwidth),$(this).height(parentheight),$(this).fadeTo(0,0)):(parentwidth=$(this).parent().width(),imgwidth=$(this).attr("data-width"),imgheight=$(this).attr("data-height"),imgdim=imgwidth/imgheight,newheight=parentwidth/imgdim,newheight=Math.round(newheight),$(this).width(parentwidth),$(this).height(newheight),$(this).fadeTo(0,0)))})}function i(){$("#content img").each(function(t){if($(this).hasClass("notme"));else{var e=$(this).parent(),i=$(this);setTimeout(function(){e.hasClass("bing")||(e.prepend('<div class="slide-spinn">&nbsp;</div>'),i.addClass("bong"),e.css({background:"rgba(127, 127, 127, 0.1)"}))},600)}}),$("#content img").imgpreload({each:function(){var t=$(this),e=$(this).parent(),i=$(this).parent().parent();$(this).parent().parent().parent();$(this).hasClass("notme")||(i.hasClass("thumb")&&i.addClass("ready"),t.addClass("ready"),e.addClass("ready"),bgcolor="transparent",e.hasClass("row-img")?e.addClass("bing").find(".slide-spinn").fadeTo(0,0,function(){$(this).remove()}):e.hasClass("bleed")?e.addClass("bing").css({background:"transparent"}).find(".slide-spinn").fadeTo(0,0,function(){$(this).remove()}):e.addClass("bing").css({background:""+bgcolor}).find(".slide-spinn").fadeTo(0,0,function(){$(this).remove()}),t.hasClass("reverse")?t.hasClass("bong")?$(this).css({height:"100%",width:"auto"}).fadeTo(y,1):$(this).css({height:"100%",width:"auto"}).fadeTo(0,1):t.hasClass("bong")?$(this).css({width:"100%",height:"auto"}).fadeTo(y,1):$(this).css({width:"100%",height:"auto"}).fadeTo(0,1),n())},all:function(){n(),y=image_loaded_fade_speed,$(".slide-spinn").remove()}}),$("body .royalSlider .rsImg").imgpreload({each:function(){n()},all:function(){n()}})}function a(){var t=$("video,audio");t.mediaelementplayer({videoWidth:"100%",videoHeight:"100%",audioWidth:"100%",startVolume:1,features:["playpause","progress","tracks","volume","fullscreen"],videoVolume:"horizontal",iPadUseNativeControls:!0,iPhoneUseNativeControls:!0,AndroidUseNativeControls:!0})}function o(){var t=$(".packery");t.packery({itemSelector:".masonry-item",transitionDuration:0})}function n(){C=$("#footer").height(),h(),r(),o(),a()}function s(){k=$(window).scrollTop(),k<0&&(k=0),_=k}function d(){$(window).bind("scroll",s)}function r(){$(".royalSlider.default-slideshow").each(function(){t=$(this),parentwidth=t.parent().width(),parentheight=t.parent().height(),slideshow_firstimg_w=t.find(".rsImg").first().attr("data-rsw"),slideshow_firstimg_h=t.find(".rsImg").first().attr("data-rsh"),slideshow_dim=slideshow_firstimg_w/slideshow_firstimg_h,slideshow_w=t.parent().width(),t.hasAttr("data-slideshow-viewportheight")&&$(window).width()<=768?slideshow_h="55vh":t.hasAttr("data-slideshow-viewportheight")?slideshow_h=parentheight:slideshow_h=slideshow_w/slideshow_dim,t.width(parentwidth).height(slideshow_h),t.royalSlider("updateSliderSize",!0)})}function h(){$("#footer").length&&(footerpos=$("#footer").position().top,wrapbottom=$("#wrap").css("margin-bottom"),wrapbottom=wrapbottom.replace("px",""),footerpos+C<m?(diff=m-(footerpos+C)-wrapbottom,$("#footer").css({"padding-top":""+diff+"px"})):$("#footer").css({"padding-top":"0px"}))}function l(){slide_id=0,clicksupport=!1,dragsupport=!1,slideshow_w=null,slideshow_h=null,$(".royalSlider.default-slideshow").each(function(){var t=$(this),e={fullscreen:{enabled:!1,nativeFS:!0},autoPlay:{pauseOnHover:!1,stopAtAction:!1,delay:4e3},addActiveClass:!0,autoScaleSlider:!1,autoHeight:!1,autoScaleSliderWidth:slideshow_w,autoScaleSliderHeight:slideshow_h,loop:!1,loopRewind:!0,navigateByClick:!0,sliderDrag:!0,numImagesToPreload:6,slidesSpacing:0,imageScalePadding:0,arrowsNavAutoHide:!0,arrowsNavHideOnTouch:!0,keyboardNavEnabled:!1,fadeinLoadedSlide:!0,globalCaption:!1,globalCaptionInside:!1,slideTransitionEasing:"easeInOutQuart",transitionSpeed:slideshow_speed,visibleNearby:{centerArea:.75,center:!0,breakpoint:650,breakpointCenterArea:.8,navigateByCenterClick:!0},thumbs:{appendSpan:!1,firstMargin:!0,paddingBottom:4}};t.length&&(t.hasAttr("data-slideshow-transition")?e.transitionType=t.attr("data-slideshow-transition"):e.transitionType="fade",t.hasAttr("data-slideshow-autoplay")&&"1"==t.attr("data-slideshow-autoplay")?e.autoPlay.enabled=!0:e.autoPlay.enabled=!1,t.hasAttr("data-slideshow-delay")&&t.attr("data-slideshow-delay")>0&&(e.autoPlay.delay=1e3*t.attr("data-slideshow-delay")),"visibleNearby"==t.attr("data-slideshow-type")?(e.visibleNearby.enabled=!0,e.transitionType="move",e.imageScaleMode="fit",e.arrowsNav=!1,t.hasAttr("data-slideshow-indicator")?e.controlNavigation=t.attr("data-slideshow-indicator"):e.controlNavigation="none"):(e.visibleNearby.enabled=!1,e.imageScaleMode="fill",t.hasAttr("data-slideshow-arrows")&&("1"==t.attr("data-slideshow-arrows")?e.arrowsNav=!0:e.arrowsNav=!1)),t.hasAttr("data-slideshow-autohide")&&("1"==t.attr("data-slideshow-autohide")?e.arrowsNavAutoHide=!0:e.arrowsNavAutoHide=!1),t.hasAttr("data-slideshow-indicator")?e.controlNavigation=t.attr("data-slideshow-indicator"):e.controlNavigation="none",t.royalSlider(e),slider=t.data("royalSlider"),slider.ev.on("rsAfterSlideChange",function(t){slide_id=slider.currSlideId}),t.find(".rsArrowLeft .rsArrowIcn").html('<svg viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><use x="0" y="0" xlink:href="#arrowLeft" /></svg>'),t.find(".rsArrowRight .rsArrowIcn").html('<svg viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><use x="0" y="0" xlink:href="#arrowRight" /></svg>'))}),n()}function c(){$("body").removeClass("menu-open")}function u(){$("body.mobile a").not("a.thumb").addClass("hover"),$("body.mobile a.thumb").on("click",function(t){"use strict";var e=$(this);return!!e.hasClass("hover")||(e.addClass("hover"),$("a").not(this).removeClass("hover"),t.preventDefault(),!1)})}function g(){($(".img-fluid")[0]||$(".img-bg")[0])&&BackgroundCheck.init({targets:"#logo, #menu-btn",images:"img, .img-bg"}),BackgroundCheck.refresh()}function w(){u(),e(),i(),d(),l(),g(),n(),"1"==$("#block").attr("data-styling")&&$("#wrap").addClass("has-styling")}function f(){l(),o(),a(),g(),n(),setTimeout(function(){n()},100)}function p(){u(),l(),o(),a(),e(),i(),d(),g(),n(),setTimeout(function(){n()},100)}var m=$(window).height(),v=$(window).width(),b=$(document).height(),y=image_loaded_fade_speed,C=$("#footer").height();w(),$("#wrap").smoothState({debug:!1,prefetch:!1,repeatDelay:500,cacheLength:0,blacklist:".no-ajax, form, .form-toggle, .submit",onBefore:function(t,e){e.removeClass("has-styling")},onStart:{duration:600,render:function(t){t.addClass("is-exiting"),c()}},onReady:{duration:100,render:function(t,e){t.html(e),p()}},onAfter:function(){"1"==$("#block").attr("data-styling")&&$("#wrap").addClass("has-styling"),$("#wrap").removeClass("is-exiting"),n()}}),$(document).on("ajaxComplete",function(t,e,i){"function"==typeof ga&&ga("send","pageview",window.location.pathname)});var k=0,_=0;$("body").on("click","#menu-btn",function(){$("body").toggleClass("menu-open"),setTimeout(function(){BackgroundCheck.refresh()},100),setTimeout(function(){BackgroundCheck.refresh()},300),setTimeout(function(){BackgroundCheck.refresh()},600)}),$("body").on("click","#menu-slide a",function(){$("body").removeClass("menu-open")}),$("body").on("click","#page-cover",function(){$("body").removeClass("menu-open")}),$(window).resize(function(){m=$(window).height(),v=$(window).width(),b=$(document).height(),n()}),$(window).bind("orientationchange",function(){$(window).resize()}),$(window).ready(function(){f(),setTimeout(function(){$("#wrap").removeClass("is-entering")},100)}),$(window).bind("load",function(){n()}),$(window).bind("orientationchange",function(){$(window).resize()})});